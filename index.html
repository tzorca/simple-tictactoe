<html>
<head>
  <link rel="stylesheet" href="lib/bootstrap.min.css">
  <title>Tic-Tac-Toe</title>
  <script src="lib/jquery-3.2.1.min.js"></script>
  <script src="lib/bootstrap.min.js"></script>
  <script src="lib/moment.js"></script>
  <script src="code/util.js"></script>
  <script src="code/TicTacToeGame.js"></script>

</head>
<body>

<style>
	.ttt-backdrop {
		display: inline-block;
    vertical-align: middle;
    margin: 0px;
    padding: 0px;
	}

	.ttt-cell {
		background-color: white;
    border: 1px black solid;
    margin-top: 4px;
		display: inline-block;
		width: 100px !important;
    vertical-align: middle;
    text-align: center;
    font-size: 64px;
		height: 100px !important;
		/* TODO: Make responsive */
	}
</style>

<br />
<div class="container">
	<div class="ttt-backdrop">
		<div>
			<div class="ttt-cell" data-col="0" data-row="0"></div>
			<div class="ttt-cell" data-col="1" data-row="0"></div>
			<div class="ttt-cell" data-col="2" data-row="0"></div>
		</div>
		<div>
			<div class="ttt-cell" data-col="0" data-row="1"></div>
			<div class="ttt-cell" data-col="1" data-row="1"></div>
			<div class="ttt-cell" data-col="2" data-row="1"></div>
		</div>
		<div>
			<div class="ttt-cell" data-col="0" data-row="2"></div>
			<div class="ttt-cell" data-col="1" data-row="2"></div>
			<div class="ttt-cell" data-col="2" data-row="2"></div>
		</div>
	</div>

</div>

<script>
  function updateGridView(gridState) {
    for (var rowIdx = 0; rowIdx < gridState.length; rowIdx++) {
      var row = gridState[rowIdx];
      for (var colIdx = 0; colIdx < row.length; colIdx++) {
        var cellVal = row[colIdx];
        var $cell = $(".ttt-cell" +
          "[data-col='" + colIdx + "']" + 
          "[data-row='" + rowIdx + "']");

        $cell.text(cellVal);
      }
    }
  }

  $(function() {
		var ticTacToeGame = new TicTacToeGame(3, 3, function() {
      updateGridView(ticTacToeGame.getGridState());
    });

  	$(".ttt-cell").click(function() {
  		var col = $(this).data("col");
  		var row = $(this).data("row");
      ticTacToeGame.makeMove(row, col, /*isHuman:*/ true);
      
  	});
  });
</script>
</body>
</html>

